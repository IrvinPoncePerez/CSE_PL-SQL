CREATE TABLE ATET_SB_TRANSACTIONS_HOLDS
(
    TRANSACTION_HOLD_ID     NUMBER         NOT NULL,
    HOLD_RELEASE_ID         NUMBER,
    SOURCE_ID               NUMBER         NOT NULL,
    SOURCE_TABLE            VARCHAR2(1000),
    HOLD_REASON_CODE        VARCHAR2(3000) NOT NULL,
    HOLD_COMMENT            VARCHAR2(2000),
    ATTRIBUTE1              NUMBER,
    ATTRIBUTE2              NUMBER,
    ATTRIBUTE3              NUMBER,
    ATTRIBUTE4              NUMBER,
    ATTRIBUTE5              NUMBER,
    ATTRIBUTE6              VARCHAR2(250),
    ATTRIBUTE7              VARCHAR2(250),
    ATTRIBUTE8              VARCHAR2(250),
    ATTRIBUTE9              VARCHAR2(250),
    ATTRIBUTE10             VARCHAR2(250),
    ATTRIBUTE11             VARCHAR2(250),
    ATTRIBUTE12             VARCHAR2(250),
    ATTRIBUTE13             VARCHAR2(250),
    ATTRIBUTE14             VARCHAR2(250),
    ATTRIBUTE15             VARCHAR2(250),
    RELEASED_FLAG           VARCHAR2(1)   NOT NULL,
    CREATION_DATE           DATE          NOT NULL,
    CREATED_BY              NUMBER        NOT NULL,
    LAST_UPDATE_DATE        DATE          NOT NULL,
    LAST_UPDATED_BY         NUMBER        NOT NULL
);


ALTER TABLE ATET_SB_TRANSACTIONS_HOLDS
	ADD CONSTRAINT UQ_ATET_SB_TRANSACTIONS_HOLDS UNIQUE (TRANSACTION_HOLD_ID)
 USING INDEX ;


CREATE SEQUENCE ATET_SB_TRANSACTIONS_HOLDS_SEQ
  START WITH 1
  NOCYCLE
  NOCACHE
  NOORDER;
  
  
CREATE OR REPLACE TRIGGER ATET_SB_TRANSACTIONS_HOLDS_TGR
BEFORE INSERT
   ON ATET_SB_TRANSACTIONS_HOLDS
   FOR EACH ROW
DECLARE

   var_next_id  NUMBER;

BEGIN

    SELECT ATET_SB_TRANSACTIONS_HOLDS_SEQ.NEXTVAL
      INTO var_next_id
      FROM dual;        
      
    :NEW.TRANSACTION_HOLD_ID := var_next_id;

END;